# 코드 리뷰 체크리스트

## Python (Backend)

### 코드 스타일
- [ ] PEP 8 준수 (ruff로 검증)
- [ ] 줄 길이 88자 이하
- [ ] import 순서 정리 (stdlib > third-party > local)
- [ ] snake_case 네이밍
- [ ] 클래스명 PascalCase
- [ ] 상수 UPPER_CASE

### 타입 힌트
- [ ] 모든 함수에 타입 힌트
- [ ] 반환 타입 명시
- [ ] Optional 사용 (None 가능한 경우)
- [ ] Union 대신 | 사용 (Python 3.10+)

### 문서화
- [ ] 모든 public 함수에 docstring
- [ ] 모듈 레벨 docstring
- [ ] 복잡한 로직에 주석

### 함수 설계
- [ ] 함수 길이 < 50줄
- [ ] 단일 책임 원칙 (SRP)
- [ ] 사이드 이펙트 최소화
- [ ] Mutable 기본 인자 사용 안 함

### 에러 처리
- [ ] 구체적인 예외 사용
- [ ] bare except 금지
- [ ] 의미 있는 에러 메시지
- [ ] 로깅 적절히 사용

### 보안
- [ ] SQL 파라미터화
- [ ] 환경변수 사용 (하드코딩 금지)
- [ ] secrets 모듈 사용 (난수 생성)
- [ ] eval() 사용 금지
- [ ] pickle 대신 json 사용

### 성능
- [ ] 리스트 컴프리헨션 적절히 사용
- [ ] 불필요한 루프 제거
- [ ] DB 쿼리 최적화 (N+1 문제)
- [ ] 캐싱 고려

### 테스트
- [ ] 단위 테스트 작성
- [ ] 엣지 케이스 테스트
- [ ] 테스트 커버리지 > 80%

---

## TypeScript (Frontend)

### 코드 스타일
- [ ] ESLint 규칙 통과
- [ ] Prettier 포매팅 적용
- [ ] camelCase 네이밍
- [ ] 컴포넌트명 PascalCase
- [ ] 상수 UPPER_CASE

### 타입 안전성
- [ ] any 사용 금지
- [ ] 명시적 타입 정의
- [ ] Props 인터페이스 정의
- [ ] 이벤트 핸들러 타입
- [ ] API 응답 타입

### 컴포넌트 설계
- [ ] 컴포넌트 분리 적절
- [ ] 재사용 가능한 구조
- [ ] Props drilling 최소화
- [ ] 불필요한 리렌더링 방지

### React Hooks
- [ ] useEffect 의존성 배열 정확
- [ ] useState 초기값 적절
- [ ] 커스텀 훅 재사용
- [ ] useCallback/useMemo 적절히 사용

### Next.js
- [ ] 클라이언트/서버 컴포넌트 분리
- [ ] Image 컴포넌트 사용
- [ ] 메타데이터 정의
- [ ] API Route 타입 안전

### 성능
- [ ] 동적 import 고려
- [ ] 이미지 최적화
- [ ] Bundle 크기 < 200kB
- [ ] Lighthouse 점수 > 90

### 접근성
- [ ] semantic HTML 사용
- [ ] alt 속성 추가
- [ ] 키보드 네비게이션
- [ ] ARIA 레이블

### 보안
- [ ] XSS 방어
- [ ] CSRF 토큰
- [ ] 환경변수 올바른 사용
- [ ] Open Redirect 방지

---

## 공통

### Git
- [ ] 의미 있는 커밋 메시지
- [ ] 작은 단위로 커밋
- [ ] 브랜치 전략 준수
- [ ] .gitignore 올바른 설정

### 문서
- [ ] README 업데이트
- [ ] API 문서 최신화
- [ ] 변경 사항 CHANGELOG 기록

### 의존성
- [ ] 불필요한 패키지 제거
- [ ] 버전 범위 적절 (^, ~)
- [ ] 보안 취약점 없음
- [ ] 라이선스 확인

---

## 리뷰 우선순위

### P0 - 즉시 수정 필수
- [ ] 보안 취약점 (SQL Injection, XSS 등)
- [ ] 데이터 손실 가능성
- [ ] 프로덕션 장애 유발 가능
- [ ] 하드코딩된 시크릿

### P1 - 머지 전 수정
- [ ] 타입 에러
- [ ] 린터 에러
- [ ] 테스트 실패
- [ ] 명백한 버그

### P2 - 논의 필요
- [ ] 설계 개선 제안
- [ ] 성능 최적화
- [ ] 리팩토링 제안
- [ ] 네이밍 개선

### P3 - 선택 사항
- [ ] 스타일 개선
- [ ] 주석 추가
- [ ] 문서 보완
- [ ] 마이너한 최적화

---

## 자동 검사 명령어

### Backend
```bash
# 전체 검사
ruff check app/
black --check app/
mypy app/
bandit -r app/ -ll

# 자동 수정
ruff check --fix app/
black app/
```

### Frontend
```bash
# 전체 검사
npm run lint
npm run format:check
npm run type-check

# 자동 수정
npm run lint:fix
npm run format
```

---

## 리뷰 코멘트 템플릿

### 문제 지적
```
❌ 문제: [간단한 설명]

[코드 블록]

이유: [왜 문제인지]
수정: [어떻게 고칠지]

[수정된 코드 블록]
```

### 제안
```
💡 제안: [개선 방향]

현재:
[현재 코드]

제안:
[제안 코드]

이점: [왜 더 나은지]
```

### 질문
```
❓ 질문: [궁금한 점]

[해당 코드 블록]

이유가 있나요? 또는 [대안] 방법은 어떨까요?
```

### 칭찬
```
✅ 좋습니다!

[코드 블록]

[왜 좋은지 설명]
```

---

## 리뷰 시 피해야 할 것

### ❌ 나쁜 리뷰
- "이건 별로네요"
- "다시 작성하세요"
- "왜 이렇게 했어요?"

### ✅ 좋은 리뷰
- "이 부분은 XSS 취약점이 있을 수 있습니다. DOMPurify를 사용하면 어떨까요?"
- "이 함수가 너무 길어서 읽기 어렵습니다. X, Y, Z로 분리하면 더 명확할 것 같습니다"
- "이 접근 방법도 좋지만, [대안]을 고려해보셨나요? [이점] 때문에 더 나을 수 있습니다"

---

## 리뷰 완료 기준

### 모든 체크 완료
- [ ] 린터 통과
- [ ] 타입 체크 통과
- [ ] 테스트 통과
- [ ] 보안 스캔 통과
- [ ] P0/P1 이슈 해결
- [ ] 코드 리뷰어 승인
- [ ] CI/CD 파이프라인 통과

---

## 정기 리뷰 (주간)

### 코드베이스 건강도
- [ ] 테스트 커버리지 확인
- [ ] 의존성 보안 업데이트
- [ ] 기술 부채 점검
- [ ] 성능 메트릭 확인
- [ ] 에러 로그 분석

### 팀 프로세스
- [ ] 리뷰 속도 개선
- [ ] 체크리스트 업데이트
- [ ] 도구 개선
- [ ] 문서 최신화
